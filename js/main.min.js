$(document).ready((function(){const hotelSwiper=new Swiper(".hotel__swiper-container",{loop:!0,navigation:{nextEl:".hotel__slider-button--next",prevEl:".hotel__slider-button--prev",hideOnClick:!0},keyboard:{enabled:!0,onlyInViewport:!1},speed:1e3,effect:"fade",fadeEffect:{crossFade:!0}}),reviewsSwiper=new Swiper(".reviews__swiper-container",{loop:!0,navigation:{nextEl:".reviews__slider-button--next",prevEl:".reviews__slider-button--prev",hideOnClick:!0},keyboard:{enabled:!0,onlyInViewport:!1}});$(".parallax-window").parallax({imageSrc:"img/bg-newsletter.jpg"});let menuBtn=document.querySelector(".menu-button"),menu=document.querySelector(".navbar-menu"),menuLines=document.querySelectorAll(".menu-button__line");menuBtn.addEventListener("click",(function(){menuLines.forEach(item=>{item.classList.toggle("menu-button__line--active")}),menu.classList.toggle("navbar-menu--visible")}));const openModalBtn=document.querySelectorAll("[data-toggle=modal]"),closeModalBtn=document.querySelector(".modal__close"),closeModalButton=document.querySelector(".close"),modalOverlay=document.querySelectorAll(".modal__overlay");for(let button of openModalBtn)button.addEventListener("click",openModal);function openModal(){const btn=this,targetModal=btn.getAttribute("data-href"),childs=document.querySelector(`${targetModal}`).children;document.body.classList.add("no-scroll");for(let child of childs)child.classList.contains("modal__overlay")?child.classList.add("modal__overlay--visible"):child.classList.contains("modal__dialog")&&child.classList.add("modal__dialog--visible")}closeModalBtn.addEventListener("click",closeModal),closeModalButton.addEventListener("click",closeModal);for(let overlay of modalOverlay)overlay.addEventListener("click",closeModal);function closeModal(event){event.preventDefault();const modalOverlay=document.querySelector(".modal__overlay--visible"),modalDialog=document.querySelector(".modal__dialog--visible");modalOverlay.classList.remove("modal__overlay--visible"),modalDialog.classList.remove("modal__dialog--visible"),document.body.classList.remove("no-scroll")}document.addEventListener("keydown",event=>{"Escape"==event.key&&closeModal(event)}),$(".form").each((function(){$(this).validate({errorClass:"invalid",rules:{name:{required:!0,minlength:2},email:{required:!0,email:!0},phone:{required:!0,minlength:18}},messages:{name:{required:"Please specify your name",minlength:"The name must be at least 2 characters"},email:{required:"We need your email address to contact you",email:"Your email address must be in the format of name@domain.com"},phone:{required:"Please, enter your phone number",minlength:"Phone number must be 11 digits"}}})})),$(".phone-mask").each((function(){$(this).mask("+7 (999) 999-99-99")})),AOS.init();let map_container=document.getElementById("map_container"),options_map={once:!0,passive:!0,capture:!0};map_container.addEventListener("click",start_lazy_map,options_map),map_container.addEventListener("mouseover",start_lazy_map,options_map),map_container.addEventListener("mousemove",start_lazy_map,options_map),map_container.addEventListener("touchstart",start_lazy_map,options_map),map_container.addEventListener("touchmove",start_lazy_map,options_map);let map_loaded=!1;function start_lazy_map(){if(!map_loaded){let map_block=document.getElementById("gmap_lazy");map_loaded=!0,map_block.setAttribute("src",map_block.getAttribute("data-src")),map_block.removeAttribute("data-src"),console.log("YMAP LOADED")}}}));